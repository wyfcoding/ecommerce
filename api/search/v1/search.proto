syntax = "proto3";

package search.v1;

option go_package = "github.com/wyfcoding/ecommerce/goapi/search/v1;v1";

// 搜索中心服务，基于索引库提供商品及其属性的全文检索功能。
service Search {
  // 核心查询接口：根据关键词搜索商品列表。
  rpc SearchProducts(SearchProductsRequest) returns (SearchProductsResponse);
}

// 搜索请求。
message SearchProductsRequest {
  // 关键词字符串。
  string query = 1;
  // 每页结果数。
  int32 page_size = 2;
  // 分页令牌。
  int32 page_token = 3;
}

// 搜索响应。
message SearchProductsResponse {
  // 命中结果列表。
  repeated Product products = 1;
  // 总命中记录数。
  int32 total_size = 2;
  // 下一页翻页令牌。
  int32 next_page_token = 3;
}

// 搜索结果中的商品摘要。
message Product {
  // 商品 ID。
  string id = 1;
  // 商品名称。
  string name = 2;
  // 简短描述或卖点。
  string description = 3;
  // 标价。
  double price = 4;
  // 主图 URL。
  string image_url = 5;
}
