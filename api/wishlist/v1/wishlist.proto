syntax = "proto3";

package api.wishlist.v1;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/wyfcoding/ecommerce/go-api/wishlist/v1;v1";

// 收藏夹与心愿单服务。
service Wishlist {
  // 加入收藏。
  rpc AddItemToWishlist(AddItemToWishlistRequest) returns (AddItemToWishlistResponse);

  // 取消收藏。
  rpc RemoveItemFromWishlist(RemoveItemFromWishlistRequest) returns (RemoveItemFromWishlistResponse);

  // 获取心愿单列表。
  rpc ListWishlistItems(ListWishlistItemsRequest) returns (ListWishlistItemsResponse);
}

// 收藏项详情。
message WishlistItem {
  // 记录 ID。
  string id = 1;
  // 所属用户。
  string user_id = 2;
  // 商品 ID。
  string product_id = 3;
  // 加入时刻。
  google.protobuf.Timestamp added_at = 4;
}

// 加入请求。
message AddItemToWishlistRequest {
  // 用户。
  string user_id = 1;
  // 商品。
  string product_id = 2;
}

// 加入回执。
message AddItemToWishlistResponse {
  // 实体条目。
  WishlistItem item = 1;
}

// 移除请求。
message RemoveItemFromWishlistRequest {
  // 用户。
  string user_id = 1;
  // 商品。
  string product_id = 2;
}

// 移除回执。
message RemoveItemFromWishlistResponse {
  // 是否成功。
  bool success = 1;
  // 消息。
  string message = 2;
}

// 列表查询。
message ListWishlistItemsRequest {
  // 用户 ID。
  string user_id = 1;
  // 数量。
  int32 page_size = 2;
  // 分页令牌。
  int32 page_token = 3;
}

// 列表响应。
message ListWishlistItemsResponse {
  // 收藏序列。
  repeated WishlistItem items = 1;
  // 总记录数。
  int32 total_count = 2;
}
