syntax = "proto3";

package api.wishlist.v1;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/wyfcoding/ecommerce/go-api/wishlist/v1;v1";

// Wishlist Service
service Wishlist {
    // 将商品添加到用户的心愿单
    rpc AddItemToWishlist(AddItemToWishlistRequest) returns (AddItemToWishlistResponse);

    // Remove an item from a user's wishlist
    rpc RemoveItemFromWishlist(RemoveItemFromWishlistRequest) returns (RemoveItemFromWishlistResponse);

    // 列出用户心愿单中的所有商品
    rpc ListWishlistItems(ListWishlistItemsRequest) returns (ListWishlistItemsResponse);
}

// 代表用户心愿单中的一个商品
message WishlistItem {
    string id = 1;
    string user_id = 2;
    string product_id = 3;
    google.protobuf.Timestamp added_at = 4;
}

// 添加商品到心愿单的请求
message AddItemToWishlistRequest {
    string user_id = 1;
    string product_id = 2;
}

// 添加商品到心愿单的响应
message AddItemToWishlistResponse {
    WishlistItem item = 1;
}

// 从心愿单移除商品的请求
message RemoveItemFromWishlistRequest {
    string user_id = 1;
    string product_id = 2;
}

// 从心愿单移除商品的响应
message RemoveItemFromWishlistResponse {
    bool success = 1;
    string message = 2;
}

// 获取心愿单商品列表的请求
message ListWishlistItemsRequest {
    string user_id = 1;
    int32 page_size = 2;
    int32 page_token = 3;
}

// 获取心愿单商品列表的响应
message ListWishlistItemsResponse {
    repeated WishlistItem items = 1;
    int32 total_count = 2;
}
