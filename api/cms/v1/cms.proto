syntax = "proto3";

package api.cms.v1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/empty.proto";

option go_package = "github.com/wyfcoding/ecommerce/go-api/cms/v1;v1";

// CMS 内容管理服务定义了所有与内容管理相关的RPC接口。
service CMS {
  // --- 核心CMS接口 ---

  // CreateContent 创建一个新内容。
  rpc CreateContent(CreateContentRequest) returns (ContentResponse);
  // GetContentByID 根据内容ID获取内容信息。
  rpc GetContentByID(GetContentByIDRequest) returns (ContentResponse);
  // UpdateContent 更新内容信息。
  rpc UpdateContent(UpdateContentRequest) returns (ContentResponse);
  // DeleteContent 删除内容。
  rpc DeleteContent(DeleteContentRequest) returns (google.protobuf.Empty);
}

// --- 消息定义 ---

// ContentInfo 代表内容信息。
message ContentInfo {
  uint64 content_id = 1; // 内容ID
  string title = 2; // 标题
  string content_type = 3; // 内容类型 (e.g., article, page, product_description)
  string content_body = 4; // 内容主体
  string author = 5; // 作者
  google.protobuf.Timestamp created_at = 6; // 创建时间
  google.protobuf.Timestamp updated_at = 7; // 更新时间
}

// CreateContentRequest 创建内容请求消息。
message CreateContentRequest {
  string title = 1; // 标题
  string content_type = 2; // 内容类型
  string content_body = 3; // 内容正文
  string author = 4; // 作者
}

// ContentResponse 内容响应消息。
message ContentResponse {
  ContentInfo content = 1; // 内容
}

// GetContentByIDRequest 获取内容信息请求。
message GetContentByIDRequest {
  uint64 content_id = 1; // 内容id
}

// UpdateContentRequest 更新内容信息请求。
message UpdateContentRequest {
  uint64 content_id = 1; // 内容id
  optional string title = 2;
  optional string content_type = 3;
  optional string content_body = 4;
  optional string author = 5;
}

// DeleteContentRequest 删除内容请求。
message DeleteContentRequest {
  uint64 content_id = 1; // 内容id
}