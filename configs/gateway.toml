# 网关服务配置

[server.http]
addr = "0.0.0.0"
port = 8000
timeout = "30s"

# JWT 配置
[jwt]
secret = "your-secret-key-change-in-production"

# 链路追踪配置
[tracing]
jaeger_endpoint = "http://localhost:14268/api/traces"

# 日志配置
[log]
level = "info"
format = "json"
output = "stdout"

# 限流配置
[rate_limit]
enabled = true
rate = 100.0    # 每秒 100 个请求
burst = 200     # 突发容量 200

# 熔断器配置
[circuit_breaker]
enabled = true
max_failures = 5        # 最大失败次数
timeout_seconds = 60    # 熔断超时时间(秒)
half_open_success = 2   # 半开状态需要的成功次数

# 后端服务配置 (gRPC 地址)
[services.user]
address = "localhost:9001"
timeout_seconds = 5

[services.product]
address = "localhost:9002"
timeout_seconds = 5

[services.order]
address = "localhost:9003"
timeout_seconds = 10

[services.cart]
address = "localhost:9004"
timeout_seconds = 5

[services.payment]
address = "localhost:9005"
timeout_seconds = 15

[services.inventory]
address = "localhost:9006"
timeout_seconds = 5

[services.logistics]
address = "localhost:9007"
timeout_seconds = 5

[services.search]
address = "localhost:9020"
timeout_seconds = 3

[services.recommendation]
address = "localhost:9021"
timeout_seconds = 3
