[server]
name = "order"
environment = "dev"

# 订单服务基础配置
[server.http]
addr = "0.0.0.0"
port = 8082  # 为订单服务选择一个不同的端口
timeout = "1s"

[server.grpc]
addr = "0.0.0.0"
port = 9092  # 为订单服务选择一个不同的端口
timeout = "1s"

[message_queue.kafka]
brokers = ["localhost:9092"]
topic = "order-events"
group_id = "order-group"

[dtm]
server = "localhost:36790"

[warehouse]
grpc_addr = "localhost:9004" # Assuming Warehouse gRPC port

# 数据库配置 (指向订单数据库)
[data.database]
driver = "mysql"
dsn = "root:your_password@tcp(127.0.0.1:3306)/ecommerce_order?charset=utf8mb4&parseTime=True&loc=Local"

[[data.shards]]
driver = "mysql"
dsn = "root:your_password@tcp(127.0.0.1:3306)/ecommerce_order?charset=utf8mb4&parseTime=True&loc=Local"

[[data.shards]]
driver = "mysql"
dsn = "root:your_password@tcp(127.0.0.1:3306)/ecommerce_order?charset=utf8mb4&parseTime=True&loc=Local"

# 链路追踪配置
[tracing]
jaeger_endpoint = "http://localhost:14268/api/traces"

# 日志配置
[log]
level = "debug"
format = "json" # 可选: text 或 json
output = "stdout" # 可选: stdout, stderr 或 文件路径

# 业务相关配置
[business]
default_page_size = 10 # 列表查询时的默认分页大小
max_page_size = 100 # 列表查询时允许的最大分页大小
order_expiration_minutes = 30 # 订单未支付自动关闭时间 (分钟)

[metrics]
enabled = true
port = "9093"
path = "/metrics"