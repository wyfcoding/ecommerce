apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "chart.fullname" . }}-config
  labels:
    {{- include "chart.labels" . | nindent 4 }}
data:
  payment.toml: |
    # 支付服务配置
    [server.http]
    addr = "0.0.0.0"
    port = 8086
    timeout = "1s"

    [server.grpc]
    addr = "0.0.0.0"
    port = 9096
    timeout = "1s"

    # 数据库配置
    [data.database]
    driver = "mysql"
    dsn = "root:your_password@tcp(127.0.0.1:3306)/ecommerce_payment?charset=utf8mb4&parseTime=True&loc=Local"

    # 链路追踪配置
    [tracing]
    jaeger_endpoint = "http://localhost:14268/api/traces"

    # 日志配置
    [log]
    level = "debug"
    format = "json"
    output = "stdout"

    # Snowflake ID生成器配置
    [snowflake]
    machine_id = 5
